<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<title>Exportar 3D JPGs – Monitoreo / IaC / Multinube</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;margin:32px;color:#1b1b1b}
  code{background:#f4f6f8;padding:.15rem .35rem;border-radius:6px}
  .status{margin-top:16px;font-size:14px;color:#444}
</style>
</head>
<body>
<h1>Exportando JPGs (1920×1080, fondo blanco)…</h1>
<p>Este archivo generará y descargará automáticamente 3 imágenes: <code>JPG</code> sin texto y con fondo blanco.</p>
<div class="status" id="status">Preparando…</div>

<script>
const width = 1920, height = 1080, quality = 0.92;

const svg_monitoreo = `
<svg width="1920" height="1080" viewBox="0 0 1920 1080" xmlns="http://www.w3.org/2000/svg">
  <rect width="1920" height="1080" fill="#ffffff"/>
  <defs>
    <filter id="softShadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="12" stdDeviation="20" flood-opacity="0.15"/>
    </filter>
    <linearGradient id="screenGrad" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#0d2347"/>
      <stop offset="1" stop-color="#203b7a"/>
    </linearGradient>
    <linearGradient id="frameGrad" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0" stop-color="#3b4b6b"/>
      <stop offset="1" stop-color="#6b7da8"/>
    </linearGradient>
    <radialGradient id="glowG" cx="50%" cy="50%" r="50%">
      <stop offset="0" stop-color="#3cf" stop-opacity="0.9"/>
      <stop offset="1" stop-color="#3cf" stop-opacity="0"/>
    </radialGradient>
    <linearGradient id="tileGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0" stop-color="#e9eef8"/>
      <stop offset="1" stop-color="#dbe4f5"/>
    </linearGradient>
  </defs>
  <g transform="translate(960,850) skewX(-20)">
    <rect x="-800" y="0" width="1600" height="60" rx="14" fill="url(#tileGrad)"/>
  </g>
  <g filter="url(#softShadow)" transform="translate(960,480)">
    <rect x="-420" y="-260" width="840" height="520" rx="22" fill="url(#frameGrad)"/>
    <rect x="-400" y="-240" width="800" height="480" rx="18" fill="url(#screenGrad)"/>
    <g opacity="0.15">
      <g stroke="#9bb3ff" stroke-width="1">
        <line x1="-380" y1="-200" x2="400" y2="-200"/>
        <line x1="-380" y1="-120" x2="400" y2="-120"/>
        <line x1="-380" y1="-40"  x2="400" y2="-40"/>
        <line x1="-380" y1="40"   x2="400" y2="40"/>
        <line x1="-380" y1="120"  x2="400" y2="120"/>
        <line x1="-300" y1="-220" x2="-300" y2="220"/>
        <line x1="-100" y1="-220" x2="-100" y2="220"/>
        <line x1="100"  y1="-220" x2="100"  y2="220"/>
        <line x1="300"  y1="-220" x2="300"  y2="220"/>
      </g>
    </g>
    <polyline points="-360,-40 -300,-60 -240,-20 -180,-30 -120,-10 -60,-25 0,-5 60,-15 120,0 180,-10 240,10 300,0 360,15"
              fill="none" stroke="#39e58c" stroke-width="4" stroke-linecap="round"/>
    <polyline points="-360,120 -300,80 -240,110 -180,90 -120,100 -60,85 0,95 60,75 120,80 180,70 240,60 300,55 360,40"
              fill="none" stroke="#ffd75e" stroke-width="4" stroke-linecap="round"/>
    <polyline points="-360,-160 -300,-150 -240,-170 -180,-140 -120,-155 -60,-120 0,-135 60,-100 120,-120 180,-85 240,-95 300,-70 360,-60"
              fill="none" stroke="#ff6b6b" stroke-width="4" stroke-linecap="round"/>
    <g>
      <circle cx="340" cy="-200" r="8" fill="#39e58c"/>
      <circle cx="360" cy="-200" r="8" fill="#ffd75e"/>
      <circle cx="380" cy="-200" r="8" fill="#ff6b6b"/>
    </g>
  </g>
  <g filter="url(#softShadow)">
    <g transform="translate(420,650) skewX(-15)">
      <rect x="-90" y="-140" width="180" height="260" rx="16" fill="#1a2b4f"/>
      <rect x="-80" y="-130" width="160" height="80" rx="10" fill="#213861"/>
      <rect x="-80" y="-30" width="160" height="140" rx="10" fill="#213861"/>
      <circle cx="60" cy="-90" r="6" fill="#39e58c"/>
      <circle cx="30" cy="-90" r="6" fill="#ffd75e"/>
      <circle cx="0" cy="-90"  r="6" fill="#ff6b6b"/>
      <rect x="-60" y="10" width="120" height="12" rx="6" fill="#39e58c" opacity="0.6"/>
      <rect x="-60" y="34" width="120" height="12" rx="6" fill="#39e58c" opacity="0.35"/>
    </g>
    <g transform="translate(1500,660) skewX(-15)">
      <rect x="-90" y="-140" width="180" height="260" rx="16" fill="#1a2b4f"/>
      <rect x="-80" y="-130" width="160" height="80" rx="10" fill="#213861"/>
      <rect x="-80" y="-30" width="160" height="140" rx="10" fill="#213861"/>
      <rect x="-60" y="10" width="120" height="12" rx="6" fill="#39e58c" opacity="0.6"/>
      <rect x="-60" y="34" width="120" height="12" rx="6" fill="#39e58c" opacity="0.35"/>
    </g>
  </g>
  <g opacity="0.9">
    <circle cx="960" cy="520" r="120" fill="url(#glowG)" opacity="0.35"/>
    <path d="M600,640 C800,560 880,560 960,520" fill="none" stroke="#3cf" stroke-width="4"/>
    <path d="M1320,650 C1180,600 1040,560 960,520" fill="none" stroke="#3cf" stroke-width="4"/>
    <circle cx="800" cy="600" r="4" fill="#3cf"/>
    <circle cx="1120" cy="600" r="4" fill="#3cf"/>
  </g>
</svg>
`;

const svg_iac = `
<svg width="1920" height="1080" viewBox="0 0 1920 1080" xmlns="http://www.w3.org/2000/svg">
  <rect width="1920" height="1080" fill="#ffffff"/>
  <defs>
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="12" stdDeviation="18" flood-opacity="0.18"/>
    </filter>
    <linearGradient id="panelGrad" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#141b2e"/>
      <stop offset="1" stop-color="#283a63"/>
    </linearGradient>
    <linearGradient id="codeGrad" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0" stop-color="#66e1ff"/>
      <stop offset="1" stop-color="#6af7c5"/>
    </linearGradient>
    <linearGradient id="metalGrad" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#8e99ad"/>
      <stop offset="1" stop-color="#c7cfdd"/>
    </linearGradient>
  </defs>
  <g filter="url(#shadow)" transform="translate(420,360) skewX(-12)">
    <rect x="0" y="0" width="320" height="200" rx="16" fill="url(#panelGrad)"/>
    <rect x="340" y="40" width="300" height="180" rx="14" fill="url(#panelGrad)" opacity="0.9"/>
    <rect x="660" y="0" width="320" height="200" rx="16" fill="url(#panelGrad)"/>
    <g stroke-linecap="round" stroke-width="6" stroke="url(#codeGrad)" opacity="0.85">
      <line x1="24" y1="40" x2="290" y2="40"/>
      <line x1="24" y1="70" x2="250" y2="70" opacity="0.7"/>
      <line x1="24" y1="100" x2="220" y2="100" opacity="0.5"/>
      <line x1="364" y1="80" x2="600" y2="80"/>
      <line x1="364" y1="110" x2="520" y2="110" opacity="0.7"/>
      <line x1="684" y1="40" x2="960" y2="40"/>
      <line x1="684" y1="70" x2="900" y2="70" opacity="0.7"/>
    </g>
  </g>
  <g opacity="0.35" stroke="#5de6c0" stroke-width="10" stroke-linecap="round">
    <path d="M420,480 C620,520 1000,520 1200,480" fill="none"/>
    <path d="M420,620 C620,660 1000,660 1200,620" fill="none"/>
  </g>
  <g filter="url(#shadow)">
    <g transform="translate(1280,480) skewX(-10)">
      <rect x="-140" y="-100" width="220" height="180" rx="16" fill="#1b2a4b"/>
      <rect x="-120" y="-80" width="180" height="60" rx="10" fill="#243a6a"/>
      <rect x="-120" y="0" width="180" height="60" rx="10" fill="#243a6a"/>
      <rect x="-95" y="18" width="130" height="12" rx="6" fill="#57f2c2" opacity="0.7"/>
    </g>
    <g transform="translate(1460,620)">
      <ellipse cx="0" cy="0" rx="90" ry="26" fill="#cfd6e4"/>
      <rect x="-90" y="0" width="180" height="110" fill="url(#metalGrad)"/>
      <ellipse cx="0" cy="110" rx="90" ry="26" fill="#aeb7c7"/>
      <ellipse cx="0" cy="0" rx="90" ry="26" fill="#e5eaf2" opacity="0.7"/>
    </g>
    <g transform="translate(1560,460)">
      <polygon points="0,-40 70,0 0,40 -70,0" fill="#28d7b3"/>
      <circle cx="0" cy="0" r="6" fill="#ffffff" opacity="0.9"/>
    </g>
    <g fill="#6ae6ff">
      <circle cx="1380" cy="380" r="12"/>
      <circle cx="1600" cy="380" r="12"/>
      <circle cx="1490" cy="330" r="12"/>
    </g>
    <g stroke="#6ae6ff" stroke-width="4" opacity="0.8">
      <line x1="1380" y1="380" x2="1490" y2="330"/>
      <line x1="1490" y1="330" x2="1600" y2="380"/>
      <line x1="1490" y1="330" x2="1420" y2="480"/>
    </g>
    <g transform="translate(1320,360)">
      <circle cx="0" cy="0" r="26" fill="#a8b6cc"/>
      <g fill="#a8b6cc">
        <rect x="-4" y="-42" width="8" height="18" rx="2"/>
        <rect x="-4" y="24" width="8" height="18" rx="2"/>
        <rect x="-42" y="-4" width="18" height="8" rx="2"/>
        <rect x="24" y="-4" width="18" height="8" rx="2"/>
        <rect x="-30" y="-30" width="12" height="12" transform="rotate(45)"/>
        <rect x="-30" y="-30" width="12" height="12" transform="rotate(135)"/>
      </g>
      <circle cx="0" cy="0" r="10" fill="#7f8ba1"/>
    </g>
  </g>
</svg>
`;

const svg_multinube = `
<svg width="1920" height="1080" viewBox="0 0 1920 1080" xmlns="http://www.w3.org/2000/svg">
  <rect width="1920" height="1080" fill="#ffffff"/>
  <defs>
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="12" stdDeviation="18" flood-opacity="0.18"/>
    </filter>
    <radialGradient id="glow" cx="50%" cy="50%" r="50%">
      <stop offset="0" stop-color="#56d8ff" stop-opacity="0.9"/>
      <stop offset="1" stop-color="#56d8ff" stop-opacity="0"/>
    </radialGradient>
    <linearGradient id="serverGrad" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#1b2a4b"/>
      <stop offset="1" stop-color="#2b4379"/>
    </linearGradient>
    <linearGradient id="cloudGrad" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#eef5ff"/>
      <stop offset="1" stop-color="#dbe8ff"/>
    </linearGradient>
    <linearGradient id="diskGrad" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#cfd6e4"/>
      <stop offset="1" stop-color="#aeb7c7"/>
    </linearGradient>
  </defs>
  <g filter="url(#shadow)" transform="translate(960,600) skewX(-10)">
    <rect x="-140" y="-120" width="280" height="220" rx="16" fill="url(#serverGrad)"/>
    <rect x="-120" y="-95" width="240" height="70" rx="10" fill="#27406f"/>
    <rect x="-120" y="-10" width="240" height="70" rx="10" fill="#27406f"/>
    <rect x="-90" y="12" width="180" height="12" rx="6" fill="#57f2c2" opacity="0.8"/>
    <rect x="-90" y="36" width="180" height="12" rx="6" fill="#57f2c2" opacity="0.45"/>
  </g>
  <g filter="url(#shadow)" transform="translate(960,770)">
    <ellipse cx="0" cy="0" rx="110" ry="28" fill="#e7ecf5"/>
    <rect x="-110" y="0" width="220" height="90" fill="url(#diskGrad)"/>
    <ellipse cx="0" cy="90" rx="110" ry="28" fill="#b8c1d0"/>
    <ellipse cx="0" cy="0" rx="110" ry="28" fill="#eef2f8" opacity="0.7"/>
  </g>
  <g filter="url(#shadow)">
    <g transform="translate(520,340)">
      <path d="M-120,30c0-44,44-70,86-52c18-36,78-36,96,2c40-8,76,20,76,54c0,40-40,60-80,60h-150c-22,0-28-14-28-30z"
            fill="url(#cloudGrad)"/>
    </g>
    <g transform="translate(960,260)">
      <path d="M-120,30c0-44,44-70,86-52c18-36,78-36,96,2c40-8,76,20,76,54c0,40-40,60-80,60h-150c-22,0-28-14-28-30z"
            fill="url(#cloudGrad)"/>
    </g>
    <g transform="translate(1400,340)">
      <path d="M-120,30c0-44,44-70,86-52c18-36,78-36,96,2c40-8,76,20,76,54c0,40-40,60-80,60h-150c-22,0-28-14-28-30z"
            fill="url(#cloudGrad)"/>
    </g>
  </g>
  <g>
    <circle cx="960" cy="600" r="120" fill="url(#glow)" opacity="0.35"/>
    <path d="M820,610 C760,520 660,470 520,380" fill="none" stroke="#56d8ff" stroke-width="6"/>
    <path d="M960,560 C960,460 960,380 960,320" fill="none" stroke="#56d8ff" stroke-width="6"/>
    <path d="M1100,610 C1160,520 1260,470 1400,380" fill="none" stroke="#56d8ff" stroke-width="6"/>
    <g fill="#57f2c2" opacity="0.9">
      <g transform="translate(720,500)">
        <rect x="-10" y="0" width="20" height="18" rx="4"/>
        <path d="M-6,0 v-6 a6,6 0 0 1 12,0 v6" fill="none" stroke="#57f2c2" stroke-width="3"/>
      </g>
      <g transform="translate(960,430)">
        <rect x="-10" y="0" width="20" height="18" rx="4"/>
        <path d="M-6,0 v-6 a6,6 0 0 1 12,0 v6" fill="none" stroke="#57f2c2" stroke-width="3"/>
      </g>
      <g transform="translate(1200,500)">
        <rect x="-10" y="0" width="20" height="18" rx="4"/>
        <path d="M-6,0 v-6 a6,6 0 0 1 12,0 v6" fill="none" stroke="#57f2c2" stroke-width="3"/>
      </g>
    </g>
  </g>
</svg>
`;

function svgToJpg(svgString, fileName) {
  return new Promise((resolve, reject) => {
    const svg = svgString
      .replace(/<\?xml.*?\?>/g, '')
      .replace(/<!DOCTYPE.*?>/g, '');
    const svgUrl = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svg);
    const img = new Image();
    img.onload = () => {
      const canvas = document.createElement('canvas');
      canvas.width = width;
      canvas.height = height;
      const ctx = canvas.getContext('2d');
      // Fondo blanco
      ctx.fillStyle = '#ffffff';
      ctx.fillRect(0, 0, width, height);
      // Dibuja el SVG ajustado al lienzo
      ctx.drawImage(img, 0, 0, width, height);
      // Exporta a JPG
      const dataUrl = canvas.toDataURL('image/jpeg', quality);
      const a = document.createElement('a');
      a.href = dataUrl;
      a.download = fileName;
      document.body.appendChild(a);
      a.click();
      a.remove();
      resolve();
    };
    img.onerror = reject;
    img.src = svgUrl;
  });
}

(async () => {
  const status = document.getElementById('status');
  try {
    status.textContent = 'Exportando 01/03…';
    await svgToJpg(svg_monitoreo, '01_monitoreo-centralizado_3d.jpg');
    status.textContent = 'Exportando 02/03…';
    await svgToJpg(svg_iac, '02_infraestructura-como-codigo_3d.jpg');
    status.textContent = 'Exportando 03/03…';
    await svgToJpg(svg_multinube, '03_backup-multinube_3d.jpg');
    status.textContent = 'Listo ✅ Se descargaron los 3 JPG.';
  } catch (e) {
    console.error(e);
    status.textContent = '❌ Ocurrió un error al exportar. Prueba en Chrome/Edge o desactiva bloqueadores.';
  }
})();
</script>
</body>
</html>
